<!-- _langueSwitcher.html.twig -->

{% set actualLangue = masterRequest.locale %}

{% set routeParams = masterRequest.get('_route_params') %}

<li class="dropdown ">
    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown">
        <i class="fa fa-globe"></i> Languages
    </a>
    <ul class="dropdown-menu">

        {% for langue in ['fr','en'] %} 

            {% if routeParams['_locale'] is defined %}
                {%set routeParams = routeParams|merge({'_locale': langue}) %}
            {% endif %}

            {% if masterRequest.get('_route') == 'homepage' %}
                {% set route = 'home' %}
            {% else %}
                {% set route = masterRequest.get('_route') %}
            {% endif %}  

            {% if actualLangue == langue %}
                <li  class="">
                    <a href="{{ path(route, routeParams) }}">
                        {{langue|trans}} <i class="fa fa-check"></i>
                    </a>
                </li>
            {% else %}
                <li>
                    <a href="{{ path(route, routeParams) }}">
                        {{langue|trans}} 
                    </a>
                </li>

            {% endif %} 

        {% endfor %}
    </ul>
</li>  

{# endif #}

