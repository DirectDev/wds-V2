{% extends 'FrontFrontBundle::layout.html.twig' %}

{% block title %}
    {{ entity.username|capitalize }}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset("front/css/pages/portfolio-v2.css") }}">
    <link rel="stylesheet" href="{{ asset("front/css/pages/profile.css") }}">
    <link rel="stylesheet" href="{{ asset("front/css/pages/shortcode_timeline2.css") }}">
    <link rel="stylesheet" href="{{ asset("front/plugins/cube-portfolio/cubeportfolio/css/cubeportfolio.min.css") }}">    
    <link rel="stylesheet" href="{{ asset("front/plugins/cube-portfolio/cubeportfolio/custom/custom-cubeportfolio.css") }}">
{% endblock %}    



{% block content %}

    <!--=== Content Part ===-->
    <div class="container content profile">


        <!--=== Breadcrumbs ===-->
        <div class="breadcrumbs">
            <div class="container">
                <h1 class="pull-left">{{ entity.username|capitalize }}</h1>
                <a href="{{ path('front_user_show_private') }}" class="btn btn-warning btn-sm pull-right">
                    <i class="glyphicon glyphicon-arrow-left"></i>
                    <span> {% trans %}front.back{% endtrans %}</span>
                </a>
            </div><!--/container-->
        </div><!--/breadcrumbs-->
        <!--=== End Breadcrumbs ===-->

        <!-- Profile Content -->
        <div class="col-md-12">
            <div class="profile-body margin-bottom-20">
                <div class="tab-v1">
                    <ul class="nav nav-justified nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#profile">Edit Profile</a></li>
                        <li><a data-toggle="tab" href="#description">Change Descriptions</a></li>
                        <li><a data-toggle="tab" href="#link">Manage Links</a></li>
                        <li><a data-toggle="tab" href="#picture">Add Pictures</a></li>
                        <li><a data-toggle="tab" href="#music">Add Musics</a></li>
                    </ul>          
                    <div class="tab-content">



                        <div id="profile" class="profile-edit tab-pane fade in active">
                            <h2 class="heading-md">Manage your name and details.</h2>
                            <br>

                            {% form_theme edit_profile_form with ['::bootstrap_3_horizontal_layout.html.twig'] %}
                            {{ form_start(edit_profile_form) }}
                            {{ form_errors(edit_profile_form) }}

                            {{ form_row(edit_profile_form.username) }}
                            {{ form_row(edit_profile_form.userTypes) }}
                            {{ form_row(edit_profile_form.musicTypes) }}

                            {{ form_row(edit_profile_form.submit) }}

                            {{ form_end(edit_profile_form) }}
                        </div>

                        <div id="description" class="profile-edit tab-pane fade">
                            <h2 class="heading-md">Manage your descriptions</h2>
                            <br>

                            {% form_theme edit_description_form with ['::bootstrap_3_horizontal_layout.html.twig'] %}
                            {{ form_start(edit_description_form) }}
                            {{ form_errors(edit_description_form) }}

                            {{ form_row(edit_description_form.translations) }}

                            {{ form_row(edit_description_form.submit) }}

                            {{ form_end(edit_description_form) }}

                        </div>

                        <div id="link" class="profile-edit tab-pane fade">
                            <h2 class="heading-md">Manage your links</h2>
                            <p>Link your profile to social networks.</p>
                            <br>
                            {% form_theme edit_link_form with ['::bootstrap_3_horizontal_layout.html.twig'] %}
                            {{ form_start(edit_link_form) }}
                            {{ form_errors(edit_link_form) }}

                            {{ form_row(edit_link_form.facebook_link) }}
                            {{ form_row(edit_link_form.google_link) }}
                            {{ form_row(edit_link_form.linkedin_link) }}
                            {{ form_row(edit_link_form.twitter_link) }}
                            {{ form_row(edit_link_form.flickr_link) }}
                            {{ form_row(edit_link_form.tumblr_link) }}
                            {{ form_row(edit_link_form.vimeo_link) }}
                            {{ form_row(edit_link_form.instagram_link) }}

                            {{ form_row(edit_link_form.submit) }}

                            {{ form_end(edit_link_form) }}
                        </div>

                        <div id="picture" class="profile-edit tab-pane fade">
                            <h2 class="heading-md">Add Pictures</h2>
                            <p>{% trans %}user.images_title{% endtrans %}</p>
                            <br>

                            {% set action_path = path('front_user_edit' , { id: entity.id, editId: editId }) %}
                            {% include 'FileFileBundle::uploadFileForm.html.twig' with {
                                                    action_path: action_path,
                                                    cancel_path: 'front_user_show_private',
                                                    delete_path: '',
                                                    id: entity.id, 
                                                    editId: editId, 
                                                    existingFiles: existingFiles,
                                                    entity: entity,
                                            } %}


                        </div>

                        <div id="music" class="profile-edit tab-pane fade">
                            <h2 class="heading-md">Add Musics</h2>
                            <p>{% trans %}user.musics_title{% endtrans %}</p>
                            <br>
                            {% render(path('front_music_new', { id : entity.id } )) %}

                            {% for music in entity.musics %}
                                {{ music.url }}<br>
                            {% endfor %}

                        </div>
                    </div>
                </div>    
            </div>
        </div>
    </div>
    <!-- End Profile Content -->



</div><!--/container-->	 	
<!--=== End Content Part ===-->


<script type="text/javascript">
    $(document).ready(function () {
        $('form').bootstrapValidator({
            fields: {
                "front_frontbundle_user[username]": {
                    validators: {
                        remote: {
                            message: "{% trans from 'validators' %}fos_user.username.already_used{% endtrans %}",
                            url: '{{ path('callback_username') }}'
                        }
                    }
                }
            }
        });
    });
</script>

{% endblock %}


{% block bottomJavascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset("front/plugins/cube-portfolio/cubeportfolio/js/jquery.cubeportfolio.min.js") }}"></script>
    <script type="text/javascript" src="{{ asset("front/js/plugins/cube-portfolio/cube-portfolio-4-fw.js") }}"></script>

    <script src="{{ asset('front/js/underscore-min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/punkavefileuploader/js/jquery.fileupload.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/punkavefileuploader/js/jquery.iframe-transport.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/punkavefileuploader/js/FileUploader.js') }}" type="text/javascript"></script> 

    <script type="text/javascript">
    jQuery(document).ready(function () {
        App.init();
        App.initCounter();
        App.initParallaxBg();
        RevolutionSlider.initRSfullScreenOffset();
        PortfolioPage.init();

    });
    </script>

{% endblock %}    