{% extends 'FrontFrontBundle::layout.html.twig' %}

{% block title %}
    {{ user.username|capitalize }}
{% endblock %}
{% block head %}
    {{ parent() }}
    <meta name="description" content="{{ user.getDescriptionShort|striptags }}" />
    <!-- partage facebook -->
    <meta property="og:title" content="{{ user.username|capitalize }}" />
    <meta property="og:description" content="{{ user.getDescriptionShort|striptags }}" />
    <!--<meta property="og:image" content="URL_image" />-->
    <!-- partage facebook -->
{% endblock %}

{% block topJavascripts %}   
    {{ parent() }}
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key={{ google_map_api_key }}">
    </script>
{% endblock %}    

{% block content %}

    <div class="page-banner">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h2>{{ user.username|capitalize }}</h2>
                    <p>{{ user.getBaseline|capitalize }}</p>
                </div>
                <div class="col-md-6">
                    {% if app.user is not null and app.user == user and is_granted('ROLE_USER') %}
                        <div class='pull-right'>
                            <a href="{{ path('front_user_edit', {id: user.id} ) }}" class="btn btn-success btn-lg pull-right">
                                <span> {% trans %}front.edit{% endtrans %}</span>
                            </a>
                        </div>
                    {% endif %}
                    <div class='pull-right  home_button'>
                        <a href="{{ path('home')}}" class="btn btn-default btn-lg pull-right">
                            <span> {% trans %}link.home{% endtrans %}</span>
                        </a>
                    </div>  
                </div>
            </div>
        </div>
    </div>

    <div id="content">
        <div class="container">

            <div class="page-content">
                <div class="row">
                    <div class="col-md-8">

                        <h4 class="classic-title">
                            <span>{% trans %}user.profile_title{% endtrans %}</span>
                        </h4>

                        <p>{{ user.getUserTypesText }} --- {{ user.getMusicTypesText }}</p>
                        <p>{{ user.getDescriptionShort|raw }}</p>

                    </div>

                    <div class="col-md-4">
                        <div class="team-member">
                            <div class="member-photo">
                                {% if user.isFacebookUser %}
                                    <img src='{{ user.profilePictureUrl }}' />
                                {% elseif user.profilePictureUrl %}
                                    <img src='{{ asset(user.profilePictureUrl)| imagine_filter('member_photo') }}' />
                                {% endif %}
                                <div class="member-name">
                                    {{ user.username|capitalize }}
                                    {% if user.getUserType %}    
                                        <span>{{ user.getUserType }}</span>
                                    {% endif %}
                                </div>
                            </div>
                            <!-- <div class="member-info">
                                 <p>{{ user.getMusicTypesText }}</br>
                            {{ user.getUserTypesText }}
                        </p>
                    </div>-->
                            <div class="member-socail">
                                <a class="facebook {% if not user.facebookLink %}disabled{% endif %}" href="{{ user.facebookLink }}" target="_blank">
                                    <i class="icon-facebook-2"></i>
                                </a>
                                <a class="twitter {% if not user.twitterLink %}disabled{% endif %}" href="{{ user.twitterLink }}"  target="_blank">
                                    <i class="icon-twitter-2"></i>
                                </a>
                                <a class="gplus {% if not user.googleLink %}disabled{% endif %}" href="{{ user.googleLink }}"  target="_blank">
                                    <i class="icon-gplus"></i>
                                </a>
                                <a class="instagramm {% if not user.instagramLink %}disabled{% endif %}" href="{{ user.instagramLink }}"  target="_blank">
                                    <i class="icon-instagram"></i>
                                </a>
                                {% if user.flickrLink %}    
                                    <a class="flickr" href="{{ user.flickrLink }}"  target="_blank">
                                        <i class="icon-flickr-1"></i>
                                    </a>
                                {% endif %}  
                                {% if user.tumblrLink %}     
                                    <a class="tumblr" href="{{ user.tumblrLink }}"  target="_blank">
                                        <i class="icon-tumblr-1"></i>
                                    </a>
                                {% endif %}  
                                {% if user.vimeoLink %}     
                                    <a class="vimeo" href="{{ user.vimeoLink }}"  target="_blank">
                                        <i class="icon-vimeo-1"></i>
                                    </a>
                                {% endif %}  
                                {% if user.linkedinLink %}     
                                    <a class="linkedin" href="{{ user.linkedinLink }}"  target="_blank">
                                        <i class="icon-linkedin"></i>
                                    </a>    
                                {% endif %}  
                            </div>
                        </div>
                    </div>   

                </div>   
            </div>   


            <div class="recent-projects row">
                <h4 class="title"><span>{% trans %}user.description_title{% endtrans %}</span></h4>
                {{ user.getDescription|raw }}

            </div>    

            <div class="recent-projects  row">
                <h4 class="title"><span>{% trans %}user.images_title{% endtrans %}</span></h4>

            </div>    

            <div id="portfolio" class="portfolio-3 row">

                {% for userFile in user.userFiles %}
                    {% if userFile.isImage %}
                        <div class="portfolio-item web drawing col-md-4">
                            <div class="portfolio-border">
                                <div class="portfolio-thumb">
                                    <a class="lightbox" href="{{ asset(userFile.getMediumPathUri) }}" title="{{ user.username|capitalize }}">
                                        <img alt="{{ user.username|capitalize }}" src="{{ asset(userFile.getMediumPathUri) }}" />
                                    </a>
                                </div>
                            </div>
                        </div>
                    {% endif%}
                {% endfor%}

            </div>            

            <div class="recent-projects  row">
                <h4 class="title"><span>{% trans %}user.addresses_title{% endtrans %}</span> : </h4>
                <div id='address' class="clear-fix">
                    {% if not user.getAddress %}
                        {% if app.user is not null and app.user == user and is_granted('ROLE_USER') %}
                            {% render(path('front_address_user_new', { id : user.id } )) %}
                        {% endif %}
                    {% else %}
                        {% render(path('front_address_show', { id : user.getAddress().id } )) %}
                    {% endif %}
                </div>
            </div>    


            {% if user.events|length %}
                <div class="recent-projects  row">
                    <h4 class="title"><span>{% trans %}user.events_title{% endtrans %}</span></h4>

                </div>    

                <div id="portfolio" class="portfolio-3  row">

                    {% for event in user.events %}
                        {% if event.isValid %}
                            <div class="portfolio-item web drawing col-md-4">
                                <div class="portfolio-border">
                                    <div class="portfolio-thumb">
                                        <a href="{{ path('front_event_show', { 'id': event.id, 'uri' : event.getURI  }) }}"
                                           title='{{ event.getTitle|capitalize }}'>
                                            <img alt="{{ event.getTitle|capitalize }}" src="{{ asset(event.getDefaultImageUrl) }}" />
                                        </a>
                                    </div>
                                </div>
                            </div>
                        {% endif%}
                    {% endfor%}

                    {% for event in user.events %}
                        {% if not event.isValid %}
                            <div class="portfolio-item web drawing col-md-4">
                                <div class="portfolio-border">
                                    <div class="portfolio-thumb">
                                        <a href="{{ path('front_event_show', { 'id': event.id, 'uri' : event.getURI  }) }}"
                                           title='{{ event.getTitle|capitalize }}'>
                                            <img alt="{{ event.getTitle|capitalize }}" src="{{ asset(event.getDefaultImageUrl) }}" />
                                        </a>
                                    </div>
                                </div>
                            </div>
                        {% endif%}
                    {% endfor%}

                </div>
            {% endif%}


        </div>
    </div>

{% endblock %}
